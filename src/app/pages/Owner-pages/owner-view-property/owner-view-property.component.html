<section>
    <div class="back-button-div">
        <!-- From Uiverse.io by karthik092726122003 -->
        <button (click)="goback()" class="back-button">
            <svg height="16" width="16" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 1024 1024">
                <path
                    d="M874.690416 495.52477c0 11.2973-9.168824 20.466124-20.466124 20.466124l-604.773963 0 188.083679 188.083679c7.992021 7.992021 7.992021 20.947078 0 28.939099-4.001127 3.990894-9.240455 5.996574-14.46955 5.996574-5.239328 0-10.478655-1.995447-14.479783-5.996574l-223.00912-223.00912c-3.837398-3.837398-5.996574-9.046027-5.996574-14.46955 0-5.433756 2.159176-10.632151 5.996574-14.46955l223.019353-223.029586c7.992021-7.992021 20.957311-7.992021 28.949332 0 7.992021 8.002254 7.992021 20.957311 0 28.949332l-188.073446 188.073446 604.753497 0C865.521592 475.058646 874.690416 484.217237 874.690416 495.52477z">
                </path>
            </svg>
            <span>Back</span>
        </button>
        <div class="ass-h">
            <p>{{ Propertiesdata.property_no }} - {{ Propertiesdata.property_type }}</p>
        </div>

    </div>
    <div class="bg-white sec-cont">
        <!-- Header -->
        <div class="header-cont">
            <div class="user-info">
                <h5 class="label">Propety No</h5>
                <p>{{ Propertiesdata.property_no }}</p>
            </div>
            <div class="user-info">
                <h5 class="label">Property Type</h5>
                <p>{{ Propertiesdata.property_type }}</p>
            </div>
            <div class="user-info">
                <h5 class="label">Area</h5>
                <p>{{ Propertiesdata.area }} sq.ft</p>
            </div>
            <div class="user-info">
                <h5 class="label">Facing</h5>
                <p>{{ Propertiesdata.facing }}</p>
            </div>
            <div class="user-info">
                <h5 class="label">Electricity Consumer No</h5>
                <p>{{ Propertiesdata.electricity_number }}</p>
            </div>
            <div class="user-info">
                <h5 class="label">Parking Slot Number</h5>
                <p>{{ Propertiesdata.parking_slot_number }}</p>
            </div>
            <div class="user-info">
                <h5 class="label">Gas Line Number</h5>
                <p>{{ Propertiesdata.gasline_number || '--'}}</p>
            </div>
            <div class="user-info">
                <h5 class="label">BHK</h5>
                <p>{{ Propertiesdata.bhk }}</p>
            </div>
            <div class="user-info">
                <h5 class="label">Resident</h5>
                <p>{{ Propertiesdata.resident_type || '--' }}</p>
            </div>
            <div class="user-info">
                <h5 class="label">Maintenance Paid By</h5>
                <p>{{ Propertiesdata.maintenance_paid_by || 'Owner' }}</p>
            </div>
            <div class="user-info">
                <h5 class="label">Maintenance Amount</h5>
                <p>{{ Propertiesdata.maintenance_amount | currency:'INR' }}</p>
            </div>
            <div class="user-info">
                <h5 class="label">Due Date</h5>
                <p>{{ Propertiesdata.due_date }} of Month</p>
            </div>
            <!-- <div > -->
                <!-- <div class="user-info" *ngIf="Propertiesdata.property_type === 'apartment'">
                    <h5 class="label">Building Type</h5>
                    <p>{{ Propertiesdata.property_no }}</p>
                </div>
                <div class="user-info" *ngIf="Propertiesdata.property_type === 'apartment'">
                    <h5 class="label">Tower Name</h5>
                    <p>{{ Propertiesdata.property_no }}</p>
                </div>
                <div class="user-info" *ngIf="Propertiesdata.property_type === 'apartment'">
                    <h5 class="label">Block Name</h5>
                    <p>{{ Propertiesdata.property_no }}</p>
                </div> -->
                <div class="user-info" *ngIf="Propertiesdata.property_type === 'apartment'">
                    <h5 class="label">Floor</h5>
                    <p>{{ Propertiesdata.floor }}</p>
                </div>
            <!-- </div> -->


            <div class="user-info">
                <h5 class="label">Owner Name</h5>
                <p>{{ Propertiesdata.owner_name }}</p>
            </div>
            <div class="user-info">
                <h5 class="label">Owner Phone Number</h5>
                <p>{{ Propertiesdata.owner_mobile }}</p>
            </div>
            <div class="user-info">
                <h5 class="label">Owner Email</h5>
                <p>{{ Propertiesdata.owner_email }}</p>
            </div>
            <div class="user-info">
                <h5 class="label">Owned At</h5>
                <p>{{ Propertiesdata.owner_details.onboarded_time.$date | date:'dd-MMM-yyyy'}}</p>
            </div>

        </div>

        <!-- Section Content -->
        <div class="main-cont">
            <div class="tabs">
                <button class="tab-btn" [class.active]="activeTab === 'Resident'" (click)="setTab('Resident')">
                    Resident
                </button>
                <button class="tab-btn" [class.active]="activeTab === 'petvehicle'" (click)="setTab('petvehicle')">
                    Pet & Vehicle
                </button>
            </div>

            <!-- Tab Content -->
            <div class="tab-content">
                <div *ngIf="activeTab === 'Resident'">
                    <div class="resident-section">
                        <h4 class="section-title">Resident Details</h4>


                        <!-- Tenant Card -->
                        <div class="resident-card">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5>Tenant Details</h5>
                                <div class="d-flex gap-3">
                                    <button class="btn-add" (click)="addTenant(propertiesId)"
                                        *ngIf="!Propertiesdata.tenant_details?._id">+ Add Tenant</button>
                                   <button class="btn-add" (click)="RemoveTenant(propertiesId)"
                                        *ngIf="Propertiesdata.tenant_details?._id">Remove Tenant</button>
                                    <button class="btn-add" (click)="EditTenant(Propertiesdata)"
                                        *ngIf="Propertiesdata.tenant_details?._id">Edit Tenant</button>
                                </div>
                            </div>

                            <div class="card-body" *ngIf="Propertiesdata.tenant_details?._id; else nodatatenant">
                                <ng-container *ngFor="let field of [
          {label: 'Tenant Name', value: Propertiesdata.tenant_details?.name},
          {label: 'Phone Number', value: Propertiesdata.tenant_details?.mobile},
          {label: 'Email', value: Propertiesdata.tenant_details?.email},
          {label: 'Advance Paid', value: Propertiesdata.advance_amount},
          {label: 'Estimated Rent', value: Propertiesdata?.monthly_rent_amount},
          {label: 'Maintenance Amount', value: Propertiesdata?.maintenance_amount},
          {label: 'Maintenance Paid By', value: Propertiesdata?.maintenance_paid_by},
          {label: 'Rented At', value: Propertiesdata.tenant_details?.onboarded_time?.$date | date:'dd-MMM-yyyy'}
        ]">
                                    <div class="user-info">
                                        <h5 class="label">{{field.label}}</h5>
                                        <p>{{field.value}}</p>
                                    </div>
                                </ng-container>
                            </div>
                            <ng-template #nodatatenant>
                                <div class="card-body">
                                    No data found
                                </div>
                            </ng-template>
                        </div>
                    </div>

                </div>
                <div *ngIf="activeTab === 'petvehicle'" class="resident-section">
                    <h4 class="section-title">Pet & Vehicle</h4>

                    <!-- Pet Card -->
                    <div class="resident-card">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <h5>Pet Details</h5>
                            <button class="btn-add" (click)="addpet(propertiesId)"
                                *ngIf="!Propertiesdata.pet || Propertiesdata.pet.length === 0">Add Pet</button>
                                 <button class="btn-add" (click)="EditPet(Propertiesdata.pet[0], propertiesId)"
                                *ngIf="Propertiesdata.pet && Propertiesdata.pet.length > 0">
                                Edit Pet
                            </button>
                        </div>

                        <div class="card-body" *ngIf="Propertiesdata.pet?.length > 0; else nodata">
                            <ng-container *ngFor="let field of [
                                    {label: 'Pet Name', value: Propertiesdata.pet[0]?.pet_name},
                                    {label: 'Pet Type', value: Propertiesdata.pet[0]?.type},
                                    {label: 'Pet Breed', value: Propertiesdata.pet[0]?.breed},
                                    {label: 'Age', value: Propertiesdata.pet[0]?.age},
                                    {label: 'Pet Owned By', value: Propertiesdata.pet[0]?.pet_owned_by}
                                ]">
                                <div class="user-info">
                                    <h5 class="label">{{ field.label }}</h5>
                                    <p>{{ field.value }}</p>
                                </div>
                            </ng-container>
                        </div>

                        <ng-template #nodata>
                            <div class="card-body">
                                No data found
                            </div>
                        </ng-template>

                    </div>

                    <!-- Vehicle Card -->
                    <div class="resident-card">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <h5>Vehicle Details</h5>
                            <button class="btn-add" (click)="addVehicle(propertiesId)"
                                *ngIf="!Propertiesdata.vehicle || Propertiesdata.vehicle.length === 0">+ Add
                                Vehicle</button>
                                 <button class="btn-add" (click)="EditVehicle(Propertiesdata.vehicle[0], propertiesId)"
                                *ngIf="Propertiesdata.vehicle && Propertiesdata.vehicle.length > 0">
                                Edit vehicle
                            </button>
                        </div>

                        <div class="card-body" *ngIf="Propertiesdata.vehicle?.length > 0; else nodatavehicle">
                            <ng-container *ngFor="let field of [
          {label: 'Vehicle Type', value: Propertiesdata.vehicle[0]?.type},
          {label: 'Brand', value: Propertiesdata.vehicle[0]?.brand},
          {label: 'Vehicle Model', value: Propertiesdata.vehicle[0]?.modal},
          {label: 'Vehicle Number', value: Propertiesdata.vehicle[0]?.number},
          {label: 'Vehicle Owned By', value: Propertiesdata.vehicle[0]?.vehicle_owned_by}
        ]">
                                <div class="user-info">
                                    <h5 class="label">{{field.label}}</h5>
                                    <p>{{field.value}}</p>
                                </div>
                            </ng-container>
                        </div>
                        <ng-template #nodatavehicle>
                            <div class="card-body">
                                No data found
                            </div>
                        </ng-template>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>