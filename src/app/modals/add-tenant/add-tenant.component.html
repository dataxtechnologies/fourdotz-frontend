<section class="form-section container">
    <div class="form-header">
        <h3 class="heading-font">Add Tenant</h3>
        <i class="fa-solid fa-xmark" (click)="closeModal()"></i>
    </div>

    <div class="form-body">
        <form [formGroup]="tenantForm" (ngSubmit)="onSubmit()">

            <!-- First Name -->
            <div class="inp-cont">
                <label for="firstName" class="label-font">First Name <span class="required">*</span></label>
                <input type="text" id="firstName" class="inp-cus placeholder-font" formControlName="firstName"
                    placeholder="Enter First Name">
                <div class="error-text" *ngIf="tenantForm.get('firstName')?.touched && tenantForm.get('firstName')?.invalid">
                    First name is required (min 2 characters)
                </div>
            </div>

            <!-- Last Name -->
            <div class="inp-cont">
                <label for="lastName" class="label-font">Last Name <span class="required">*</span></label>
                <input type="text" id="lastName" class="inp-cus placeholder-font" formControlName="lastName"
                    placeholder="Enter Last Name">
                <div class="error-text" *ngIf="tenantForm.get('lastName')?.touched && tenantForm.get('lastName')?.invalid">
                    Last name is required (min 2 characters)
                </div>
            </div>

            <!-- Email -->
            <div class="inp-cont">
                <label for="email" class="label-font">Email ID <span class="required">*</span></label>
                <input type="email" id="email" class="inp-cus placeholder-font" formControlName="email"
                    placeholder="Enter your Email">
                <div class="error-text" *ngIf="tenantForm.get('email')?.touched && tenantForm.get('email')?.invalid">
                    Enter a valid email
                </div>
            </div>

            <!-- Phone -->
            <div class="inp-cont">
                <label for="phone" class="label-font">Phone Number <span class="required">*</span></label>
                <input type="tel" id="phone" class="inp-cus placeholder-font" formControlName="phone"
                    placeholder="Enter 10-digit Phone Number" maxlength="10">
                <div class="error-text" *ngIf="tenantForm.get('phone')?.touched && tenantForm.get('phone')?.invalid">
                    Enter a valid 10-digit phone number
                </div>
            </div>

            <!-- Rented At -->
           <div class="inp-cont date-picker-container">
  <label for="rentedAt" class="label-font">
    Rented At <span class="required">*</span>
  </label>

  <div class="date-input-wrapper">
    <input
      type="text"
      id="rentedAt"
      class="inp-cus placeholder-font"
      formControlName="rentedAt"
      placeholder="Select date"
      readonly
      (click)="openDatePicker()"
    />
    <i class="fa fa-calendar calendar-icon" (click)="openDatePicker()"></i>
    <input
      #hiddenDatePicker
      type="date"
      class="hidden-date-input"
      (change)="onDateSelected($event)"
    />
  </div>

  <div
    class="error-text"
    *ngIf="tenantForm.get('rentedAt')?.touched && tenantForm.get('rentedAt')?.invalid"
  >
    Rented date is required
  </div>
</div>


            <!-- Advance Paid -->
            <div class="inp-cont">
                <label for="advancePaid" class="label-font">Advance Paid <span class="required">*</span></label>
                <input type="number" id="advancePaid" class="inp-cus placeholder-font" formControlName="advancePaid"
                    placeholder="Enter Advance Amount">
                <div class="error-text"
                    *ngIf="tenantForm.get('advancePaid')?.touched && tenantForm.get('advancePaid')?.invalid">
                    Enter valid advance amount
                </div>
            </div>

            <!-- Estimated Rent -->
            <div class="inp-cont">
                <label for="estimatedRent" class="label-font">Estimated Rent <span class="required">*</span></label>
                <input type="number" id="estimatedRent" class="inp-cus placeholder-font" formControlName="estimatedRent"
                    placeholder="Enter Estimated Rent">
                <div class="error-text"
                    *ngIf="tenantForm.get('estimatedRent')?.touched && tenantForm.get('estimatedRent')?.invalid">
                    Enter valid estimated rent
                </div>
            </div>

            <div class="inp-cont">
                    <label>Rent Due Date <span class="required">*</span></label>
                    <select formControlName="monthly_rent_due_date" class="inp-cus">
                        <option value="" disabled selected>Select Day</option>
                        <option *ngFor="let day of days" [value]="day">{{ day }} of Month</option>
                    </select>
                    <div *ngIf="tenantForm.get('monthly_rent_due_date')?.touched && tenantForm.get('monthly_rent_due_date')?.invalid"
                        class="error-text">
                      Rent  Due Date is required
                    </div>
                </div>

            <!-- Maintenance Paid By -->
            <div class="inp-cont">
                <label for="maintenancePaidBy" class="label-font">Maintenance Paid by <span
                        class="required">*</span></label>
                <select id="maintenancePaidBy" class="inp-cus placeholder-font" formControlName="maintenancePaidBy">
                    <option value="" disabled>Select Options</option>
                    <option value="Owner">Owner</option>
                    <option value="Tenant">Tenant</option>
                </select>
                <div class="error-text"
                    *ngIf="tenantForm.get('maintenancePaidBy')?.touched && tenantForm.get('maintenancePaidBy')?.invalid">
                    Please select who pays maintenance
                </div>
            </div>

            <div class="mb-3">
                <button type="submit" class="submit-btn"
                    *ngIf="submitbtn">Submit</button>
                <button type="button" class="processing-btn" *ngIf="!submitbtn">Processing...</button>
            </div>
        </form>

    </div>
</section>